(this.webpackJsonpkabzda=this.webpackJsonpkabzda||[]).push([[0],{10:function(e,t,n){e.exports={nav:"Navbar_nav__7BaTQ",item:"Navbar_item__5Q1ah",activeLink:"Navbar_activeLink__23Iqh",sidebar:"Navbar_sidebar__35kzO"}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(27),a=n(18);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={dialogs:[{name:"Sasha",id:1},{name:"Pasha",id:2},{name:"Dasha",id:3},{name:"Masha",id:4},{name:"Glasha",id:5},{name:"Dimych",id:6}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your way to samurai?"},{id:3,message:"great work"},{id:4,message:"Yo"},{id:5,message:"YOOOO"},{id:6,message:"WAZZZZUUUP"}]},s=function(e){return{type:"ADD-DIALOG-POST",message:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-DIALOG-POST":var n={id:7,message:t.message};return o({},e,{messages:[].concat(Object(r.a)(e.messages),[n]),newMessageText:""});default:return e}}},127:function(e,t,n){"use strict";var r=n(7),a=n.n(r),c=n(16),o=n(27),i=n(18),s=n(13);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e,t,n,r){return e.map((function(e){return e[n]===t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},r):e}))};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return w}));var m={users:[],pageSize:50,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],curPortionNumber:1},d=function(e){return{type:"FOLLOW",userId:e}},b=function(e){return{type:"UNFOLLOW",userId:e}},O=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},g=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},v=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(O(!0)),r({type:"SET_CURRENT_PAGE",p:e}),n.next=4,s.c.getUsers(e,t);case 4:c=n.sent,r(O(!1)),r({type:"SET_USERS",users:c.data.items}),r({type:"SET_TOTAL_USERS_COUNT",totalCount:c.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return function(t){t(function(e){return{type:"SET_PORTION_PAGE",curPortionNumber:e}}(e))}},h=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(c(n)),t(g(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(n,e,s.c.onFollowClick.bind(s.c),d);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(n,e,s.c.onUnFollowClick.bind(s.c),b);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return f({},e,{users:l(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return f({},e,{users:l(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return f({},e,{users:t.users});case"SET_CURRENT_PAGE":return f({},e,{currentPage:t.p});case"SET_TOTAL_USERS_COUNT":return f({},e,{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return f({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return f({},e,{followingInProgress:t.isFetching?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case"SET_PORTION_PAGE":return f({},e,{curPortionNumber:t.curPortionNumber});default:return e}}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(128),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6d54c1cb-0079-4662-b13d-27d4ae8cf67d"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t))},onFollowClick:function(e){return a.post("follow/".concat(e))},onUnFollowClick:function(e){return a.delete("follow/".concat(e))}},o={authMe:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}},i={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})}}},132:function(e,t,n){e.exports={friend:"Friend_friend__2iewF"}},134:function(e,t,n){e.exports={container:"News_container__FxKeO"}},135:function(e,t,n){e.exports={container:"Music_container__2b6QB"}},136:function(e,t,n){e.exports={container:"Settings_container__2BScX"}},137:function(e,t,n){},138:function(e,t,n){e.exports={content:"Profile_content__Vau-j",pic:"Profile_pic__26Yl8"}},139:function(e,t,n){e.exports={content:"ProfileInfo_content__3OG10",pic:"ProfileInfo_pic__i3BJG",descriptionBlock:"ProfileInfo_descriptionBlock__3tsdY"}},140:function(e,t,n){e.exports=n.p+"static/media/loading.dec3ae46.svg"},141:function(e,t,n){e.exports={item:"Post_item__15CND"}},167:function(e,t,n){e.exports=n(295)},168:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f}));var r=n(90),a=n(0),c=n.n(a),o=n(52),i=n.n(o),s=n(84),u=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,o=n&&r;return c.a.createElement("div",{className:i.a.formControl+" "+(o?i.a.error:" ")},c.a.createElement("div",null,a),o&&c.a.createElement("span",null,r))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return c.a.createElement(u,e," ",c.a.createElement("textarea",Object.assign({},t,n)))},p=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return c.a.createElement(u,e," ",c.a.createElement("input",Object.assign({},t,n)))},f=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.a.createElement("div",null,c.a.createElement(s.a,Object.assign({name:t,component:r,placeholder:e,validate:n},a))," ",o)}},252:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);n(168),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(7),a=n.n(r),c=n(16),o=n(27),i=n(18),s=n(13);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={posts:[{id:1,message:"\u0412\u0436\u0443\u0445 \u0432\u0436\u0443\u0445 \u0432\u0436\u0443\u0445, \u043c\u0435\u0447\u0438 \u0432\u043e\u0437\u0434\u0443\u0445 \u0440\u0430\u0441\u0441\u0435\u043a\u0430\u044e\u0442",likeCount:999},{id:2,message:"Great, we can go next step!",likeCount:17},{id:3,message:"\u041a\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0442\u043e\u0442 \u0435\u0441\u0442.",likeCount:0},{id:4,message:"\u0416\u0438\u0442\u044c \u0445\u043e\u0440\u043e\u0448\u043e, \u0430 \u0445\u043e\u0440\u043e\u0448\u043e \u0436\u0438\u0442\u044c \u0435\u0449\u0451 \u043b\u0443\u0447\u0448\u0435!",likeCount:666}],profile:null,status:""},f=function(e){return{type:"SET_USER_STATUS",status:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likeCount:0};return l({},e,{posts:[].concat(Object(o.a)(e.posts),[n])});case"DELETE_POST":return l({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SET_USER_PROFILE":return l({},e,{profile:t.profile});case"SET_USER_STATUS":return l({},e,{status:t.status});default:return e}},d=n(102),b={},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;arguments.length>1&&arguments[1];return e},g=n(6),v=n(127),E=n(33);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w="samurai-network/auth/SET_USER_DATA",y={userId:null,email:null,login:null,isAuth:!1},_=function(e,t,n,r){return{type:w,data:{userId:e,email:t,login:n,isAuth:r}}},P=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.authMe();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,o=r.email,i=r.login,t(_(c,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return j({},e,{},t.data);default:return e}},k=n(129),N=n(126);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={initialized:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return T({},e,{initialized:!0});default:return e}},D=Object(g.c)({profilePage:m,dialogsPage:d.b,sidebar:O,usersPage:v.a,auth:S,form:N.a,app:x}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d,L=Object(g.e)(D,U(Object(g.a)(k.a)));window.store=L;var A=L,F=n(0),G=n.n(F),M=n(62),R=n.n(M),z=n(35),B=n(36),W=n(38),H=n(37),Z=n(39),Y=(n(252),n(10)),J=n.n(Y),Q=n(11),X=n(132),q=n.n(X),K=function(e){return G.a.createElement("div",{className:q.a.friend},G.a.createElement("div",null,G.a.createElement("img",{alt:"avatar",src:"https://www.w3schools.com/w3css/img_avatar3.png"})),G.a.createElement("div",null,"Name"))},V=function(){return G.a.createElement("nav",{className:J.a.nav},G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/profile",activeClassName:J.a.activeLink},"Profile")),G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/dialogs",activeClassName:J.a.activeLink},"Messages")),G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/news",activeClassName:J.a.activeLink},"News")),G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/music",activeClassName:J.a.activeLink},"Music")),G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/users",activeClassName:J.a.activeLink},"Users")),G.a.createElement("div",{className:J.a.item},G.a.createElement(Q.b,{to:"/settings",activeClassName:J.a.activeLink},"Settings")),G.a.createElement("div",{className:J.a.sidebar},G.a.createElement(Q.b,{to:"/friends",activeClassName:J.a.activeLink},"Friends"),G.a.createElement(K,null),G.a.createElement(K,null),G.a.createElement(K,null)))},$=n(29),ee=n(134),te=n.n(ee),ne=function(e){return G.a.createElement("div",{className:te.a.container},"News")},re=n(135),ae=n.n(re),ce=function(e){return G.a.createElement("div",{className:ae.a.container},"Music")},oe=n(136),ie=n.n(oe),se=function(e){return G.a.createElement("div",{className:ie.a.container},"Settings")},ue=n(137),le=n.n(ue),pe=function(e){return G.a.createElement("div",null,G.a.createElement("div",null,"Friends"),G.a.createElement("div",{className:le.a.friendItem},G.a.createElement(K,null),G.a.createElement(K,null),G.a.createElement(K,null),G.a.createElement(K,null),G.a.createElement(K,null)))},fe=n(138),me=n.n(fe),de=n(139),be=n.n(de),Oe=n(47),ge=n(85),ve=function(e){var t=Object(F.useState)(!1),n=Object(ge.a)(t,2),r=n[0],a=n[1],c=Object(F.useState)(e.status),o=Object(ge.a)(c,2),i=o[0],s=o[1];Object(F.useEffect)((function(){s(e.status)}),[e.status]);return G.a.createElement("div",null,r?G.a.createElement("div",null,G.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},onBlur:function(){e.updateUserStatus(i),a(!1)},autoFocus:!0,value:i})):G.a.createElement("div",null,G.a.createElement("span",{onDoubleClick:function(){a(!0)}},i||"No status")))},Ee=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus;return t?G.a.createElement("div",null,G.a.createElement("div",{className:be.a.descriptionBlock},G.a.createElement("img",{alt:"#",src:t.photos.large}),G.a.createElement(ve,{updateUserStatus:r,status:n}),G.a.createElement("div",null,"\u0418\u043c\u044f:",t.fullName),G.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435:",t.aboutMe),G.a.createElement("div",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:",G.a.createElement("a",{href:"https://"+t.contacts.vk},t.contacts.vk)))):G.a.createElement(Oe.a,null)},he=n(89),je=n.n(he),we=n(141),ye=n.n(we),_e=function(e){return G.a.createElement("div",{className:ye.a.item},G.a.createElement("img",{alt:"avatar",src:"https://www.w3schools.com/w3css/img_avatar3.png"}),e.message,G.a.createElement("div",null,G.a.createElement("span",null,"like ",e.likeCount)))},Pe=n(84),Se=n(125),ke=n(23),Ne=n(32),Ce=G.a.memo((function(e){var t=Object(o.a)(e.posts).map((function(e){return G.a.createElement(_e,{message:e.message,likeCount:e.likeCount})})).reverse();return G.a.createElement("div",{className:je.a.postBlock},G.a.createElement("h3",null," My posts "),e.isAuth&&G.a.createElement(Ie,{onSubmit:function(t){e.addPost(t.newMessageText)}}),G.a.createElement("div",{className:je.a.posts},t))})),Te=Object(Ne.a)(200),Ie=Object(Se.a)({form:"ProfileAddPostForm"})((function(e){return G.a.createElement("form",{onSubmit:e.handleSubmit},G.a.createElement("div",null,G.a.createElement(Pe.a,{name:"newMessageText",component:ke.b,placeholder:"Enter your text",validate:[Ne.b,Te]})),G.a.createElement("div",null,G.a.createElement("button",null,"Add post")))})),xe=Ce,De=n(8),Ue=Object(De.b)((function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.posts,isAuth:e.auth.isAuth}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(xe),Le=function(e){return G.a.createElement("div",{className:me.a.content},G.a.createElement(Ee,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),G.a.createElement(Ue,null))},Ae=function(e){function t(){return Object(z.a)(this,t),Object(W.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return G.a.createElement(Le,this.props)}}]),t}(G.a.Component),Fe=Object(g.d)(Object(De.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getProfile(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getStatus(e);case 2:r=t.sent,n(f(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),$.f)(Ae),Ge=n(93),Me=n.n(Ge),Re=function(e){return G.a.createElement("header",{className:Me.a.header},G.a.createElement("img",{alt:"logo",src:"https://www.vetter.fi/wp-content/uploads/2019/05/logo-ex-3.png"}),G.a.createElement("div",{className:Me.a.loginBlock},e.isAuth?G.a.createElement("div",null,e.login," - ",G.a.createElement("button",{onClick:e.logout},"Log out")," "):G.a.createElement(G.a.Fragment,null,G.a.createElement(Q.b,{to:"/login"},"Login"),G.a.createElement($.a,{to:"/login"}))))},ze=function(e){function t(){return Object(z.a)(this,t),Object(W.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return G.a.createElement(Re,this.props)}}]),t}(G.a.Component),Be=Object(De.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.data.resultCode&&t(_(null,null,null,!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ze),We=n(52),He=n.n(We),Ze=Object(Ne.a)(20),Ye=Object(Se.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return G.a.createElement("form",{onSubmit:t},Object(ke.c)("Email","email",[Ne.b,Ze],ke.a),Object(ke.c)("Password","password",[Ne.b,Ze],ke.a,{type:"password"}),Object(ke.c)(null,"rememberMe",null,ke.a,{type:"checkbox"},"remember me"),n&&G.a.createElement("div",{className:He.a.formSummaryError},n),G.a.createElement("div",null,G.a.createElement("button",null,"Login")))})),Je=Object(De.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var o,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.login(e,t,n);case 2:0===(o=r.sent).data.resultCode?c(P()):(i=o.data.messages.length>0?o.data.messages[0]:"Some error",c(Object(E.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?G.a.createElement($.a,{to:"/profile"}):G.a.createElement("div",null,G.a.createElement("h1",null,"Login"),G.a.createElement(Ye,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Qe=G.a.lazy((function(){return n.e(3).then(n.bind(null,300))})),Xe=G.a.lazy((function(){return n.e(4).then(n.bind(null,301))})),qe=function(e){function t(){return Object(z.a)(this,t),Object(W.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?G.a.createElement("div",{className:"app-wrapper"},G.a.createElement(Be,null),G.a.createElement(V,null),G.a.createElement("div",{className:"app-wrapper-content"},G.a.createElement(G.a.Suspense,{fallback:G.a.createElement(Oe.a,null)},G.a.createElement($.b,{path:"/dialogs",render:function(){return G.a.createElement(Xe,null)}}),G.a.createElement($.b,{path:"/profile/:userId?",render:function(){return G.a.createElement(Fe,null)}}),G.a.createElement($.b,{path:"/news",component:ne}),G.a.createElement($.b,{path:"/music",component:ce}),G.a.createElement($.b,{path:"/users",component:Qe}),G.a.createElement($.b,{path:"/settings",component:se}),G.a.createElement($.b,{path:"/friends",component:pe}),G.a.createElement($.b,{path:"/login",component:Je})))):G.a.createElement(Oe.a,null)}}]),t}(G.a.Component),Ke=Object(g.d)($.f,Object(De.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(P());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(qe);R.a.render(G.a.createElement(Q.a,null,G.a.createElement(De.a,{store:A},G.a.createElement(Ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},47:function(e,t,n){"use strict";var r=n(140),a=n.n(r),c=n(0),o=n.n(c);t.a=function(e){return o.a.createElement("div",null,o.a.createElement("img",{alt:"#",src:a.a}))}},52:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2kHZb",error:"FormsControls_error__3oTPu",formSummaryError:"FormsControls_formSummaryError__3nJyN"}},89:function(e,t,n){e.exports={item:"MyPosts_item__1lop8",postBlock:"MyPosts_postBlock__3_o5z",posts:"MyPosts_posts__3bQmu"}},93:function(e,t,n){e.exports={header:"Header_header__WkEFg",loginBlock:"Header_loginBlock__-nMEC"}}},[[167,1,2]]]);
//# sourceMappingURL=main.1cbf6cc1.chunk.js.map